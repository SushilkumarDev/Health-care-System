{"version":3,"file":"sessiontiming.js","sources":["../../../src/sessiontiming.ts"],"sourcesContent":["import { convertIntegrationFnToClass } from '@sentry/core';\nimport type { IntegrationFn } from '@sentry/types';\n\nconst INTEGRATION_NAME = 'SessionTiming';\n\nconst sessionTimingIntegration = (() => {\n  const startTime = Date.now();\n\n  return {\n    name: INTEGRATION_NAME,\n    processEvent(event) {\n      const now = Date.now();\n\n      return {\n        ...event,\n        extra: {\n          ...event.extra,\n          ['session:start']: startTime,\n          ['session:duration']: now - startTime,\n          ['session:end']: now,\n        },\n      };\n    },\n  };\n}) satisfies IntegrationFn;\n\n/** This function adds duration since Sentry was initialized till the time event was sent */\n// eslint-disable-next-line deprecation/deprecation\nexport const SessionTiming = convertIntegrationFnToClass(INTEGRATION_NAME, sessionTimingIntegration);\n"],"names":["convertIntegrationFnToClass"],"mappings":";;;;AAGA,MAAM,gBAAA,GAAmB,eAAe,CAAA;AACxC;AACA,MAAM,wBAAyB,IAAG,MAAM;AACxC,EAAE,MAAM,SAAU,GAAE,IAAI,CAAC,GAAG,EAAE,CAAA;AAC9B;AACA,EAAE,OAAO;AACT,IAAI,IAAI,EAAE,gBAAgB;AAC1B,IAAI,YAAY,CAAC,KAAK,EAAE;AACxB,MAAM,MAAM,GAAI,GAAE,IAAI,CAAC,GAAG,EAAE,CAAA;AAC5B;AACA,MAAM,OAAO;AACb,QAAQ,GAAG,KAAK;AAChB,QAAQ,KAAK,EAAE;AACf,UAAU,GAAG,KAAK,CAAC,KAAK;AACxB,UAAU,CAAC,eAAe,GAAG,SAAS;AACtC,UAAU,CAAC,kBAAkB,GAAG,GAAA,GAAM,SAAS;AAC/C,UAAU,CAAC,aAAa,GAAG,GAAG;AAC9B,SAAS;AACT,OAAO,CAAA;AACP,KAAK;AACL,GAAG,CAAA;AACH,CAAC,CAAE,EAAA;AACH;AACA;AACA;AACO,MAAM,gBAAgBA,gCAA2B,CAAC,gBAAgB,EAAE,wBAAwB;;;;"}